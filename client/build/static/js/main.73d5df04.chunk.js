(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{107:function(e,t,a){e.exports={mapContainer:"Map_mapContainer__3qQBQ",searchIcon:"Map_searchIcon__i-tWn",search:"Map_search__1VKbm"}},139:function(e,t,a){e.exports={chatBox:"Chat_chatBox__12cdm",gridList:"Chat_gridList__DzYmv"}},17:function(e,t,a){e.exports={bgContainer:"MovieDetails_bgContainer__b2pfL",background:"MovieDetails_background__2aQoq",poster:"MovieDetails_poster__F7GRl",infoBox:"MovieDetails_infoBox__1lrGt",iconStyle:"MovieDetails_iconStyle__3_Gcd",cast:"MovieDetails_cast__aQ6Oc",castBox:"MovieDetails_castBox__177VE",tooltip:"MovieDetails_tooltip__2Hn5n",videoContainer:"MovieDetails_videoContainer__3Ie95",iframeResponsive:"MovieDetails_iframeResponsive__9WubU"}},284:function(e,t,a){e.exports={closeIcon:"Profile_closeIcon__2cJcN"}},295:function(e,t,a){e.exports=a(555)},551:function(e,t){},555:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(14),r=a.n(c),o=a(5),i=a(12),s=a.n(i),m=a(11),u=a(609),d=a(610),p=a(607),g=(a(320),a(613)),h=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){s.a.get("https://api.themoviedb.org/3/genre/movie/list?api_key=".concat("fe849d6987c0000e3dc1352ccf5118fd","&language=en-US")).then((function(e){c(e.data.genres)})).catch((function(e){return console.log.err}))}),[]),l.a.createElement("div",{className:"bg-dark jumbotron jumbotron-fluid mb-5"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-4 text-light"},l.a.createElement("h1",{className:"display-5"},"EXPLORE!! ",l.a.createElement("i",{className:"far fa-play-circle text-warning"})),l.a.createElement("h4",{className:"display-4 float-right"},"movies"),l.a.createElement("h1",{className:"display-4"},"GENERES")),l.a.createElement("div",{className:"lead col-7 border-left border-warning ml-5 pl-5 my-auto"},a.map((function(e,t){return l.a.createElement(g.a,{key:t,size:"medium",icon:l.a.createElement("i",{className:"far fa-laugh-wink pl-1 h3"}),label:e.name,color:"primary",onClick:function(t){Object(m.c)("/movies/genre/"+e.name+"/"+e.id)},clickable:!0,className:"mb-3 mr-2"})}))))))},f=function(){return l.a.createElement("div",{className:"jumbotron jumbotron-fluid bg-light text-secondary mb-0 mt-5 py-5"},l.a.createElement("div",{className:"container"},l.a.createElement("h4",null,"About"),l.a.createElement("div",{className:"row"},l.a.createElement("ul",{className:"lead col-10",style:{listStyleType:"none"}},l.a.createElement("li",null,"A full-stack MERN web project"),l.a.createElement("li",{className:"h6"},"Github: ",l.a.createElement("a",{href:"https://github.com/sqkzhao/movie-talk",rel:"noopener noreferrer",target:"_blank",className:"text-secondary"},"Here"))),l.a.createElement("div",{className:"col-2"},l.a.createElement("h6",{className:"pl-3"},"Data source:"),l.a.createElement("img",{src:"https://www.themoviedb.org/assets/2/v4/logos/v2/blue_square_1-5bdc75aaebeb75dc7ae79426ddd9be3b2be1e342510f8202baf6bffa71d7f5c4.svg",alt:"TMDb",className:"col-10"})))))},E=a(71),v=a(589),b=a(590),y=a(139),w=a.n(y),N=function(e){var t=e.upcoming,a=e.nowPlaying,n=e.popular;return l.a.createElement("div",null,l.a.createElement("div",{style:{width:"1200px",margin:"0 auto",textAlign:"center",fontFamily:"Impact, Charcoal, sans-serif",padding:"0rem 0rem 5rem 0rem"}},l.a.createElement(E.a,{style:{height:"83vh"}},t.map((function(e,t){return l.a.createElement(E.a.Item,{key:t,style:{height:"87vh"}},l.a.createElement(m.a,{to:"/movies/"+e.id+"/overview"},l.a.createElement("img",{className:"d-block w-100",src:"http://image.tmdb.org/t/p/original"+e.backdrop_path,alt:""})),l.a.createElement(E.a.Caption,null,l.a.createElement("h1",{style:{color:"rgba(255, 255, 255)",fontFamily:"Impact, Charcoal, sans-serif",fontSize:"5vw",textShadow:"2px 2px rgba(0, 0, 0, 0.5)"}},l.a.createElement(m.a,{to:"/movies/"+e.id+"/overview",className:"text-light"},e.title))))})))),l.a.createElement(h,null),l.a.createElement("div",{style:{width:"60%",margin:"0 auto",padding:"0 0 40px 0",textAlign:"center",fontFamily:"Impact, Charcoal, sans-serif"}},l.a.createElement("h1",null,"Now Playing"),l.a.createElement("hr",null),l.a.createElement(E.a,null,a.map((function(e,t){return l.a.createElement(E.a.Item,{key:t},l.a.createElement(m.a,{to:"/movies/"+e.id+"/overview"},l.a.createElement("img",{className:"d-block w-100",src:"http://image.tmdb.org/t/p/w780"+e.backdrop_path,alt:""})),l.a.createElement(E.a.Caption,null,l.a.createElement("h1",{style:{color:"rgba(255, 255, 255)",fontFamily:"Impact, Charcoal, sans-serif",fontSize:"3vw",textShadow:"2px 2px rgba(0, 0, 0, 0.5)"}},l.a.createElement(m.a,{to:"/movies/"+e.id+"/overview",className:"text-light"},e.title))))})))),l.a.createElement("hr",{className:"mt-5"}),l.a.createElement("h2",{className:"text-center pt-3 mb-5",style:{fontFamily:"Impact, Charcoal, sans-serif"}},"Popular Movies"),l.a.createElement("div",{className:"row justify-content-center pb-5"},l.a.createElement(v.a,{cellHeight:280,className:w.a.gridList,cols:5},n.map((function(e,t){return l.a.createElement(b.a,{key:t},l.a.createElement(m.a,{to:"/movies/"+e.id+"/overview"},l.a.createElement("img",{src:"http://image.tmdb.org/t/p/w185"+e.poster_path,alt:e.title})))})))),l.a.createElement(f,null))},j=a(42),x=a(154),O=a(592),k=a(591),_=Object(k.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper},gridList:{flexWrap:"nowrap",transform:"translateZ(0)"},title:{color:e.palette.white},titleBar:{background:"linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)"}}})),S=function(e){var t=e.movieid,a=Object(n.useState)([]),c=Object(o.a)(a,2),r=c[0],i=c[1],u=_();return Object(n.useEffect)((function(){s.a.get("https://api.themoviedb.org/3/movie/".concat(t,"/similar?api_key=").concat("fe849d6987c0000e3dc1352ccf5118fd","&language=en-US&page=1")).then((function(e){i(e.data.results)})).catch((function(e){return console.log(e)}))}),[]),l.a.createElement("div",{className:"my-5 py-3"},0!==r.length?l.a.createElement("h5",null,"Recommend"):null,l.a.createElement("div",{className:u.root},l.a.createElement(v.a,{className:u.gridList,cols:5.5,cellHeight:280},r.map((function(e,t){return l.a.createElement(b.a,{key:t},l.a.createElement("img",{src:"http://image.tmdb.org/t/p/w342/"+e.poster_path,alt:e.title}),l.a.createElement(m.a,{to:"/movies/"+e.id+"/overview"},l.a.createElement(O.a,{className:"similarTitle similarTitleBar",title:e.title,classes:{root:u.titleBar,title:u.title}})))})))))},C=a(593),M=a(611),U=a(595),I=a(608),P=a(596),T=a(597),F=a(17),R=a.n(F),L=function(e){var t=e.id,a=e.currentUser,c=e.setCurrentUser,r=e.recentlyViewed,i=e.setRecentlyViewed,u=Object(n.useState)({}),d=Object(o.a)(u,2),p=d[0],g=d[1],h=Object(n.useState)([]),f=Object(o.a)(h,2),E=f[0],v=f[1],b=Object(n.useState)([]),y=Object(o.a)(b,2),w=y[0],N=y[1],O=Object(n.useState)(""),k=Object(o.a)(O,2),_=k[0],F=k[1],L=Object(n.useState)(0),D=Object(o.a)(L,2),W=D[0],A=D[1],B=Object(n.useState)(!1),q=Object(o.a)(B,2),z=q[0],G=q[1],V=Object(n.useState)(!0),H=Object(o.a)(V,2),K=H[0],Q=H[1];Object(n.useEffect)((function(){s.a.get("https://api.themoviedb.org/3/movie/"+t+"?api_key="+"".concat("fe849d6987c0000e3dc1352ccf5118fd")+"&language=en-US").then((function(e){g(e.data),v(e.data.genres);var t=Math.floor(e.data.runtime/60),a=e.data.runtime%60;F("".concat(t,"h ").concat(a,"min")),A(e.data.release_date.slice(0,4));var n,l=!1,c=Object(x.a)(r);try{for(c.s();!(n=c.n()).done;){n.value.id==e.data.id&&(l=!0)}}catch(o){c.e(o)}finally{c.f()}l||(r.push(e.data),i(r))})).catch((function(e){return console.log(e)})),s.a.get("https://api.themoviedb.org/3/movie/"+t+"/keywords?api_key="+"".concat("fe849d6987c0000e3dc1352ccf5118fd")+"&language=en-US&append_to_response=credits").then((function(e){N(e.data.keywords)})).catch((function(e){return console.log(e)}))}),[]);return l.a.createElement("div",{className:"bg-warning text-white"},l.a.createElement("div",{className:"col",id:R.a.bgContainer},l.a.createElement("img",{src:"http://image.tmdb.org/t/p/w342/"+p.backdrop_path,id:R.a.background}),l.a.createElement("div",null,l.a.createElement("div",{className:"container-md mt-5",id:R.a.infoContainer},l.a.createElement("div",{className:"row"},l.a.createElement("img",{src:"http://image.tmdb.org/t/p/w342/"+p.poster_path,className:"image-fluid mx-4",id:R.a.poster}),l.a.createElement("div",{className:"col ml-3 pr-5",id:R.a.infoBox},l.a.createElement("h1",null,p.title," ",l.a.createElement("span",{className:"text-secondary h3"},"(",W,")")),l.a.createElement("p",null,E.map((function(e,t){return l.a.createElement("span",{key:t,className:"badge badge-warning mr-2"},e.name)}))),l.a.createElement("p",null,_," | In Theaters ",p.release_date),l.a.createElement("div",{className:"pr-5 mr-5"},l.a.createElement("span",{className:"h3 font-weight-bold text-warning"},p.vote_average),l.a.createElement("strong",null," /10 (",p.vote_count," votes)"),l.a.createElement(C.a,{animated:!0,striped:!0,variant:"warning",now:10*p.vote_average,label:"Scored ".concat(p.vote_average," out of ").concat(p.vote_count," votes")})),l.a.createElement("p",null,l.a.createElement("strong",null,"Popularity "),p.popularity,l.a.createElement("i",{className:"fab fa-hotjar ml-1 text-warning"}),l.a.createElement("i",{className:"fab fa-hotjar ml-1 text-warning"}),l.a.createElement("i",{className:"fab fa-hotjar ml-1 text-warning"})),l.a.createElement("div",{className:"mt-3 mb-4"},l.a.createElement(M.a,{placement:"bottom",delay:{show:200,hide:400},overlay:l.a.createElement(U.a,{id:"tooltip-favorites"},l.a.createElement("div",{className:R.a.tooltip},"Add to Favorites"))},l.a.createElement("i",{onClick:function(e){if(e.preventDefault(),null===a)alert("Please login to add favorites."),Object(m.c)("/sign_in");else{var t,n=a.favorites,l=!1,r=Object(x.a)(n);try{for(r.s();!(t=r.n()).done;){var o=t.value;console.log(o.movieid,"...",p.id),o.movieid==p.id&&(l=!0)}}catch(i){r.e(i)}finally{r.f()}l?Q("Already in your favorites"):(n.push({movieid:p.id,url:p.poster_path}),console.log(n),Q("Added to your favorites")),s.a.put("http://localhost:8000/users/"+a._id,Object(j.a)({},a,{favorites:n})).then((function(e){console.log(e.data),c(e.data)})).catch((function(e){return console.log(e)})),G(!0)}},className:"far fa-grin-hearts","data-toggle":"tooltip","data-placement":"bottom",id:R.a.iconStyle})),l.a.createElement(M.a,{placement:"bottom",delay:{show:200,hide:400},overlay:l.a.createElement(U.a,{id:"tooltip-favorites"},l.a.createElement("div",{className:R.a.tooltip},"Add to Watchlist"))},l.a.createElement("i",{onClick:function(e){if(e.preventDefault(),null==a)alert("Please login to add watchlist."),Object(m.c)("/sign_in");else{var t=a.watchlist,n=!1;if(0!==t.length){var l,c=Object(x.a)(t);try{for(c.s();!(l=c.n()).done;){l.value.movieid==p.id&&(n=!0)}}catch(r){c.e(r)}finally{c.f()}}n?Q("Already in your watchlist."):(t.push({movieid:p.id,url:p.poster_path}),Q("Added to your watchlist.")),s.a.put("http://localhost:8000/users/"+a._id,Object(j.a)({},a,{watchlist:t})).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)})),G(!0)}},className:"far fa-list-alt","data-toggle":"tooltip","data-placement":"bottom",id:R.a.iconStyle})),l.a.createElement(M.a,{placement:"bottom",delay:{show:200,hide:400},overlay:l.a.createElement(U.a,{id:"tooltip-favorites"},l.a.createElement("div",{className:R.a.tooltip},"Find Nearby Theater"))},l.a.createElement(m.a,{to:"./theaters"},l.a.createElement("i",{className:"fas fa-map-marked-alt","data-toggle":"tooltip","data-placement":"bottom",id:R.a.iconStyle})))),l.a.createElement("div",null,w.map((function(e,t){if(t<9)return l.a.createElement("button",{key:t,onClick:function(t){return function(e){Object(m.c)("/searchKeyword/"+e)}(e.id)},type:"button",className:"btn btn-sm btn-outline-info mr-2 mb-2"},"#",e.name)}))))))),l.a.createElement(I.a,{show:z,onClose:function(){return G(!1)},delay:2e3,autohide:!0,style:{position:"absolute",top:"5px",right:"5px",color:"#000"}},l.a.createElement(I.a.Header,null,l.a.createElement("img",{src:"holder.js/20x20?text=%20",className:"rounded mr-2",alt:""}),l.a.createElement("strong",{className:"pr-5"},"Notification"),l.a.createElement("small",null,"just now")),l.a.createElement(I.a.Body,{className:"pl-3"},K))),l.a.createElement("div",null,l.a.createElement(P.a,{position:"static"},l.a.createElement("div",{className:"mx-auto container-md"},l.a.createElement("div",{className:"row"},l.a.createElement(T.a,{onClick:function(e){return Object(m.c)("/movies/".concat(t,"/overview"))},className:"py-3 text-light mx-auto col"},"Overview"),l.a.createElement(T.a,{onClick:function(e){return Object(m.c)("/movies/".concat(t,"/info"))},className:"py-3 text-light mx-auto col"},"Details"),l.a.createElement(T.a,{onClick:function(e){return Object(m.c)("/movies/".concat(t,"/videos"))},className:"py-3 text-light mx-auto col"},"Videos"),l.a.createElement(T.a,{onClick:function(e){return Object(m.c)("/movies/".concat(t,"/reviews"))},className:"py-3 text-light mx-auto col"},"Reviews"),l.a.createElement(T.a,{onClick:function(e){return Object(m.c)("/movies/".concat(t,"/theaters"))},className:"py-3 text-light mx-auto col"},"Nearby Theaters"))))),l.a.createElement("div",{className:"container-md bg-white text-dark"},e.children,l.a.createElement(S,{movieid:t})))},D=a(70),W=function(e){var t=e.theater,a=e.coordinates,c=e.locations,r=(e.setlocations,Object(n.useState)(null)),i=Object(o.a)(r,2),s=i[0],m=i[1];return l.a.createElement("div",null,l.a.createElement(D.GoogleMap,{defaultZoom:10,defaultCenter:a},c.map((function(e,t){return l.a.createElement(D.Marker,{key:t,position:{lat:e.lat,lng:e.lng},onClick:function(){return m({lat:e.lat,lng:e.lng})}})})),null!==s&&l.a.createElement(D.InfoWindow,{position:{lat:s.lat,lng:s.lng}},l.a.createElement("div",{className:"text-dark"},l.a.createElement("p",null,l.a.createElement("strong",null,"Selected movie theater:")),l.a.createElement("p",null,t)))))},A=a(188),B=a.n(A),q=a(281),z=a(156),G=a.n(z),V=a(107),H=a.n(V),K=function(e){var t=e.setTheater,a=e.setCoordinates,c=e.locations,r=e.setlocations,i=Object(n.useState)(""),s=Object(o.a)(i,2),m=s[0],u=s[1],d=function(){var e=Object(q.a)(B.a.mark((function e(n){var l,o,i;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(n),e.next=3,Object(z.geocodeByAddress)(n);case 3:return l=e.sent,e.next=6,Object(z.getLatLng)(l[0]);case 6:o=e.sent,a(o),u(n),i={address:n,lat:o.lat,lng:o.lng},c.push(i),r(c);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return l.a.createElement("div",null,l.a.createElement(G.a,{value:m,onChange:u,onSelect:d},(function(e){var t=e.getInputProps,a=e.suggestions,n=e.getSuggestionItemProps;e.loading;return l.a.createElement("div",null,l.a.createElement("div",{className:"input-group mb-3"},l.a.createElement("div",{className:"input-group-prepend"},l.a.createElement("span",{className:"input-group-text rounded-0 bg-light"},l.a.createElement("i",{className:"fas fa-search-location",id:H.a.searchIcon})," Search nearby movie theaters")),l.a.createElement("input",t({placeholder:"Enter keyword 'movie' or any movie theaters company",className:"form-control rounded-0"}))),l.a.createElement("div",{className:"text-dark"},a.map((function(e){var t={backgroundColor:e.active?"#292b2c":"#fff",padding:"2px",color:e.active?"#fff":"#292b2c"};return e.terms.length>4&&l.a.createElement("div",n(e,{style:t}),e.description)}))))})))},Q=function(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)({lat:37.8044,lng:-122.2712}),i=Object(o.a)(r,2),s=i[0],m=i[1],u=Object(n.useState)([]),d=Object(o.a)(u,2),p=d[0],g=d[1],h=Object(D.withScriptjs)(Object(D.withGoogleMap)(W));return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:H.a.mapContainer},l.a.createElement(h,{googleMapURL:"https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places&key=".concat("AIzaSyDDF88TaNbXPYDoOm9q6VFomGcGRKaimEk"),loadingElement:l.a.createElement("div",{style:{height:"100%"}}),containerElement:l.a.createElement("div",{style:{height:"100%"}}),mapElement:l.a.createElement("div",{style:{height:"100%"}}),coordinates:s,theater:a,locations:p,setlocations:g})),l.a.createElement("div",{className:H.a.search},l.a.createElement(K,{setTheater:c,setCoordinates:m,locations:p,setlocations:g})))},J=function(e){var t=e.id,a=Object(n.useState)({}),c=Object(o.a)(a,2),r=c[0],i=c[1],u=Object(n.useState)([]),d=Object(o.a)(u,2),p=d[0],g=d[1],h=Object(n.useState)([]),f=Object(o.a)(h,2),E=f[0],v=f[1],b=Object(n.useState)({}),y=Object(o.a)(b,2),w=y[0],N=y[1];Object(n.useEffect)((function(){s.a.get("https://api.themoviedb.org/3/movie/".concat(t,"?api_key=").concat("fe849d6987c0000e3dc1352ccf5118fd","&language=en-US&append_to_response=credits")).then((function(e){i(e.data),v(e.data.credits.cast),N(e.data.credits.crew[0])})).catch((function(e){return console.log(e)})),s.a.get("https://api.themoviedb.org/3/movie/".concat(t,"/videos?api_key=").concat("fe849d6987c0000e3dc1352ccf5118fd","&language=en-US")).then((function(e){g(e.data.results)})).catch((function(e){return console.log(e)}))}),[]);return l.a.createElement("div",{className:"container-sm px-5 pt-3"},l.a.createElement("h3",null,"Overview"),l.a.createElement("p",{className:"px-5"},r.tagline),l.a.createElement("p",{className:"px-5"},r.overview),l.a.createElement("h3",{className:"mt-3"},"Cast and Crew"),l.a.createElement("div",{className:"row mt-3 px-5 pb-4 text-center"},w?l.a.createElement("div",{className:R.a.castBox},l.a.createElement("img",{src:"http://image.tmdb.org/t/p/w185/".concat(w.profile_path),className:R.a.cast,alt:w.name}),l.a.createElement("br",null),l.a.createElement("span",{className:R.a.castName},w.name),l.a.createElement("br",null),l.a.createElement("strong",{className:R.a.castName},"Director")):null,E.map((function(e,t){return t<5&&l.a.createElement("div",{key:t,className:R.a.castBox},l.a.createElement("img",{src:"http://image.tmdb.org/t/p/w185/".concat(e.profile_path),className:R.a.cast,alt:e.name}),l.a.createElement("br",null),l.a.createElement("span",{className:R.a.castName},e.name),l.a.createElement("br",null),l.a.createElement("strong",{className:R.a.castName},e.character))}))),l.a.createElement("div",{className:"row my-5"},l.a.createElement("h3",{className:"col-11"},"The Latest Trailer"),l.a.createElement("div",{className:"text-right float-right col-1"},l.a.createElement(M.a,{placement:"right",delay:{show:200,hide:500},overlay:function(e){return l.a.createElement(U.a,Object.assign({id:"button-tooltip"},e),"More videos")}},l.a.createElement(m.a,{to:"../videos"},l.a.createElement("i",{className:"fas fa-arrow-circle-right text-warning",id:R.a.iconStyle}))))),l.a.createElement("div",{className:"row justify-content-center my-3 pb-3"},l.a.createElement("div",{className:"col text-center videoContainer"},p.map((function(e,t){return 0===t&&l.a.createElement("iframe",{key:t,className:"iframeResponsive",width:"616",height:"347",src:"https://www.youtube.com/embed/"+e.key,frameBorder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,title:e.key})})))))},Y=function(e){var t=e.id,a=Object(n.useState)([]),c=Object(o.a)(a,2),r=c[0],i=c[1];return Object(n.useEffect)((function(){s.a.get("https://api.themoviedb.org/3/movie/".concat(t,"/videos?api_key=").concat("fe849d6987c0000e3dc1352ccf5118fd","&language=en-US")).then((function(e){i(e.data.results)})).catch((function(e){return console.log(e)}))}),[]),l.a.createElement("div",{className:"container-sm px-5 pt-3 pb-5"},l.a.createElement("h2",{className:"mb-3"},"Trailers"),l.a.createElement("div",{className:"text-center"},r.map((function(e,t){return l.a.createElement("span",{className:"ml-2",key:t},l.a.createElement("iframe",{width:"450",height:"300",src:"https://www.youtube.com/embed/"+e.key,frameBorder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,title:e.key}))}))))},$=function(e){var t=e.id,a=Object(n.useState)({}),c=Object(o.a)(a,2),r=c[0],i=c[1],m=Object(n.useState)([]),u=Object(o.a)(m,2),d=u[0],p=u[1],g=Object(n.useState)([]),h=Object(o.a)(g,2),f=h[0],E=h[1],v=Object(n.useState)([]),b=Object(o.a)(v,2),y=b[0],w=b[1],N=Object(n.useState)([]),j=Object(o.a)(N,2),x=j[0],O=j[1],k=Object(n.useState)([]),_=Object(o.a)(k,2),S=_[0],C=_[1];return Object(n.useEffect)((function(){s.a.get("https://api.themoviedb.org/3/movie/".concat(t,"?api_key=").concat("fe849d6987c0000e3dc1352ccf5118fd","&language=en-US&append_to_response=credits")).then((function(e){i(e.data),O(e.data.credits.cast),C(e.data.credits.crew),p(e.data.production_countries),E(e.data.spoken_languages),w(e.data.production_companies)})).catch((function(e){return console.log(e)}))}),[]),l.a.createElement("div",{className:"container-sm px-5 pt-3 pb-5"},l.a.createElement("h2",null,"Details"),l.a.createElement("div",{className:"px-5 mt-3"},l.a.createElement("p",null,l.a.createElement("strong",null,"Official site: "),l.a.createElement("a",{href:r.homepage,target:"_blank",rel:"noopener noreferrer"},r.homepage)),l.a.createElement("p",null,l.a.createElement("strong",null,"Country: "),d.map((function(e,t){return 0===t?l.a.createElement("span",{key:t},e.name):l.a.createElement("span",{key:t},", ",e.name)}))),l.a.createElement("p",null,l.a.createElement("strong",null,"Language: "),f.map((function(e,t){return 0===t?l.a.createElement("span",{key:t},e.name):l.a.createElement("span",{key:t},", ",e.name)}))),l.a.createElement("p",null,l.a.createElement("strong",null,"Original title: "),r.original_title),l.a.createElement("p",null,l.a.createElement("strong",null,"Production companies: "),y.map((function(e,t){return 0===t?l.a.createElement("span",{key:t},null!==e.logo_path?l.a.createElement("img",{src:"http://image.tmdb.org/t/p/w92/"+e.logo_path,className:R.a.companyLogo,alt:e.name}):l.a.createElement("span",null,e.name)):l.a.createElement("span",{key:t},", ",e.name)}))),l.a.createElement("p",null,l.a.createElement("strong",null,"Budget: "),"$ ",r.budget),l.a.createElement("p",null,l.a.createElement("strong",null,"Revenue: "),"$ ",r.revenue)),l.a.createElement("p",{"data-toggle":"collapse","data-target":"#collapseCast","aria-expanded":"true","aria-controls":"collapseCast"},l.a.createElement("span",{className:"h2 mr-2"},"Cast"),"click here to expand/collapse"),l.a.createElement("div",{className:"collapse show",id:"collapseCast"},l.a.createElement("div",{className:"card card-body mb-3"},l.a.createElement("table",null,l.a.createElement("tbody",null,x.map((function(e,t){return l.a.createElement("tr",{key:t},l.a.createElement("td",{className:"pr-3"},l.a.createElement("strong",null,e.name)),l.a.createElement("td",{className:"pr-5"},"as"),l.a.createElement("td",null,l.a.createElement("strong",null,e.character)))})))))),l.a.createElement("p",{"data-toggle":"collapse","data-target":"#collapseCrew","aria-expanded":"false","aria-controls":"collapseCrew"},l.a.createElement("span",{className:"h2 mr-2"},"Crew"),"click here to expand/collapse"),l.a.createElement("div",{className:"collapse",id:"collapseCrew"},l.a.createElement("div",{className:"card card-body"},l.a.createElement("table",null,l.a.createElement("tbody",null,S.map((function(e,t){return l.a.createElement("tr",{key:t},l.a.createElement("td",{className:"pr-3"},l.a.createElement("strong",null,e.name)),l.a.createElement("td",{className:"pr-3"},e.job),l.a.createElement("td",null,e.department))})))))))},X=a(612),Z=function(e){var t=e.pages,a=e.goToPage,n=e.setGoToPage,c=function(e){n(a-1)},r=function(e){n(a+1)};return l.a.createElement(X.a,{className:"mx-auto col-2 pb-5"},a-1>0?l.a.createElement(X.a.Item,{onClick:c},"Prev"):l.a.createElement(X.a.Item,{onClick:c,disabled:!0},"Prev"),a-1>0?l.a.createElement(X.a.Item,{onClick:c},a-1):l.a.createElement(X.a.Item,{onClick:c,disabled:!0},"\xab"),l.a.createElement(X.a.Item,{active:!0},a),a+1<=t?l.a.createElement(l.a.Fragment,null,l.a.createElement(X.a.Item,{onClick:r},a+1),l.a.createElement(X.a.Item,{onClick:r},"Next")):l.a.createElement(l.a.Fragment,null,l.a.createElement(X.a.Item,{onClick:r,disabled:!0},"\xbb"),l.a.createElement(X.a.Item,{onClick:r,disabled:!0},"Next")," "))},ee=function(e){var t=e.id,a=e.currentUser,c=Object(n.useState)(""),r=Object(o.a)(c,2),i=r[0],m=r[1],u=Object(n.useState)([]),d=Object(o.a)(u,2),p=d[0],g=d[1],h=Object(n.useState)("Read More"),f=Object(o.a)(h,2),E=f[0],v=f[1],b=Object(n.useState)(0),y=Object(o.a)(b,2),w=y[0],N=y[1],x=Object(n.useState)(1),O=Object(o.a)(x,2),k=O[0],_=O[1];Object(n.useEffect)((function(){s.a.get("https://api.themoviedb.org/3/movie/".concat(t,"/reviews?api_key=").concat("fe849d6987c0000e3dc1352ccf5118fd","&language=en-US&page=").concat(k)).then((function(e){g(e.data.results),N(e.data.total_pages)})).catch((function(e){return console.log(e)}))}),[k,t]);var S=function(e){v("Read More"===E?"Collapse":"Read More")};return l.a.createElement("div",{className:"container-sm px-5 pt-3 pb-5"},l.a.createElement("h2",{className:"mb-3"},"Reviews"),l.a.createElement("form",{className:"form-group m-3",onSubmit:function(e){e.preventDefault();var n={movieid:t,review:i},l=a.reviews.push(n);s.a.put("http://localhost:8000/users/".concat(a._id),Object(j.a)({},a,{reviews:l})).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))}},l.a.createElement("textarea",{className:"form-control mb-2",rows:"4",onChange:function(e){return m(e.target.value)}}),l.a.createElement("input",{type:"submit",value:"Submit Review",className:"btn btn-sm btn-warning col mb-5"})),p.map((function(e,t){var a=e.content.substring(0,451).lastIndexOf(" ");return l.a.createElement("div",{key:t,className:"card m-3"},l.a.createElement("div",{className:"card-body"},l.a.createElement("p",null,e.content.substring(0,a),l.a.createElement("span",{className:"collapse",id:"collapse"+t},e.content.slice(a)),l.a.createElement("span",{onClick:S,class:"badge badge-warning ml-2","data-toggle":"collapse","data-target":"#collapse"+t,"aria-expanded":"false"},E)),l.a.createElement("p",{className:"font-italic font-weight-bold"},"Written by ",e.author)))})),w>1?l.a.createElement(Z,{pages:w,goToPage:k,setGoToPage:_}):null)},te=a(282),ae=a.n(te),ne=function(e){var t=e.setName,a=e.submitHandler;return l.a.createElement("div",{className:"mt-4 text-center"},l.a.createElement("h2",{className:"card-title mt-5"},"Get started right now!"),l.a.createElement("form",{onSubmit:a,className:"mt-3 mb-5"},l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",placeholder:"Enter your name here ..",onChange:function(e){return t(e.target.value)},className:"form-control col-10 mx-auto"})),l.a.createElement("input",{type:"submit",value:"Enter Chatroom",className:"btn btn-success"})))},le=function(){var e=Object(n.useState)((function(){return ae()(":8000")})),t=Object(o.a)(e,1)[0],a=Object(n.useState)("Unknown user"),c=Object(o.a)(a,2),r=c[0],i=c[1],s=Object(n.useState)(!1),m=Object(o.a)(s,2),u=m[0],d=m[1],p=Object(n.useState)(),g=Object(o.a)(p,2),h=g[0],f=g[1],E=Object(n.useState)([]),v=Object(o.a)(E,2),b=v[0],y=v[1];Object(n.useEffect)((function(){return t.on("welcome",(function(e){console.log("Received msg: ",e)})),t.on("new_msg",(function(e){y((function(t){return e}))})),function(){return t.disconnect(!0)}}),[]);return l.a.createElement("div",{className:"card col-4 text-center position-fixed fixed-bottom border border-dark"},l.a.createElement("nav",{className:"row navbar navbar-dark bg-dark text-white","data-toggle":"collapse","data-target":"#collapseChat","aria-expanded":"false","aria-controls":"collapseChat"},l.a.createElement("span",{className:"font-weight-bold"},"Let's Chat! - Recent Movies")),l.a.createElement("div",{className:"collapse",id:"collapseChat"},!u&&l.a.createElement(ne,{setName:i,submitHandler:function(e){e.preventDefault(),d(!0),t.emit("send_msg",{name:"system",msg:"".concat(r," has joined the chat.")})}}),u&&l.a.createElement("div",{className:"text-left"},l.a.createElement("div",{className:w.a.chatBox,id:"chat-history"},b.map((function(e,t){return"system"===e.name?l.a.createElement("div",{key:t,className:"p-2"},e.msg):e.name===r?l.a.createElement("div",{className:"row justify-content-end"},l.a.createElement("span",{key:t,className:"badge badge-primary mr-3 mb-2 p-2"},e.msg)):l.a.createElement("div",{key:t,className:"row justify-content-start"},l.a.createElement("span",{key:t,className:"mx-3 p-2"},l.a.createElement("strong",null,e.name,": "),l.a.createElement("span",{className:"badge badge-secondary"},e.msg)))}))),l.a.createElement("form",{onSubmit:function(e){e.preventDefault(),t.emit("send_msg",{name:r,msg:h})},className:"row text-center"},l.a.createElement("input",{type:"text",onChange:function(e){return f(e.target.value)},maxLength:"70",className:"form-control col-10 rounded-0"}),l.a.createElement("input",{type:"submit",value:"Send",className:"col-2 btn btn-small btn-outline-warning bg-dark rounded-0"})))))},ce=a(145),re=function(e){var t=e.open,a=e.setOpen,c=Object(n.useState)("Read More"),r=Object(o.a)(c,2),i=r[0],s=r[1];return l.a.createElement("div",null,l.a.createElement(ce.a,{onClick:function(e){"Read More"===i?(s("Collapse"),a(!t)):(s("Read More"),a(!t))},"aria-controls":"example-collapse-text","aria-expanded":t,className:"btn btn-dark mt-3 mb-5"},i))},oe=a(146),ie=function(e){var t=e.type,a=e.category,c=e.num,r=e.id,i=Object(n.useState)(!1),s=Object(o.a)(i,2),u=s[0],d=s[1],p=function(e){if(e.length<=350)return e;var t=e.substring(0,350).lastIndexOf(" ");return e.slice(0,t)};return l.a.createElement("section",{className:"my-5"},l.a.createElement("div",{style:{margin:"0 auto",textAlign:"center",fontFamily:"Impact, Charcoal, sans-serif"}},l.a.createElement(m.a,{to:"/movies/"+r,className:"text-dark"},l.a.createElement("h1",{className:"mb-4"},t)),l.a.createElement("div",{id:"example-collapse-text"},a.slice(0,c).map((function(e,t){return null!=e.poster_path&&l.a.createElement("div",{key:t,style:{display:"inline-block"}},l.a.createElement("div",{style:{width:"300px",margin:"10px",display:"inline-block"}},l.a.createElement(m.a,{to:"/movies/"+e.id+"/overview"},l.a.createElement("img",{className:"d-block w-100",src:"http://image.tmdb.org/t/p/w780"+e.poster_path,alt:""}))),l.a.createElement("div",{style:{width:"250px",margin:"10px",display:"inline-block",verticalAlign:"top"}},l.a.createElement("h1",{className:"pt-3"},l.a.createElement("svg",{className:"bi bi-star-fill",width:"1em",height:"0.9em",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{d:"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.283.95l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"})),l.a.createElement("span",{className:"pl-2 h3"},e.vote_average)),l.a.createElement("h4",{style:{width:"250px",color:"rgba(0, 0, 0, 0.6)"}},l.a.createElement(m.a,{to:"/movies/"+e.id+"/overview",style:{color:"#000"}},e.title),l.a.createElement("span",{style:{fontSize:"1rem"}},"(",e.release_date.slice(0,4),")")),l.a.createElement("h4",null),l.a.createElement("h6",{style:{width:"250px"}},"Released: ",e.release_date),l.a.createElement("hr",{className:"half-rule"}),l.a.createElement("p",{style:{width:"250px",fontWeight:"lighter",fontSize:"15px",fontFamily:"system-ui",textAlign:"left",lineHeight:"1.5"}},l.a.createElement("strong",{style:{color:"black",border:"solid black 1px",padding:"3px",marginRight:"5px"}},"Overview"),p(e.overview)," ",l.a.createElement(m.a,{to:"/movies/"+e.id+"/overview"},"More.."))))}))),l.a.createElement(oe.a,{in:u},l.a.createElement("div",{id:"example-collapse-text"},a.slice(c).map((function(e,t){if(null!==e.poster_path)return l.a.createElement("div",{key:t,style:{display:"inline-block"}},l.a.createElement("div",{style:{width:"300px",margin:"10px",display:"inline-block"}},l.a.createElement(m.a,{to:"/movies/"+e.id+"/overview"},l.a.createElement("img",{className:"d-block w-100",src:"http://image.tmdb.org/t/p/w780"+e.poster_path,alt:""}))),l.a.createElement("div",{style:{width:"250px",margin:"10px",display:"inline-block",verticalAlign:"top"}},l.a.createElement("h1",{className:"pt-3"},l.a.createElement("svg",{className:"bi bi-star-fill",width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{d:"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.283.95l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"})),l.a.createElement("span",{className:"pl-2"},e.vote_average)),l.a.createElement("h4",{style:{width:"250px",color:"rgba(0, 0, 0, 0.6)"}},e.title," ",l.a.createElement("span",{style:{fontSize:"1rem"}},"(",e.release_date.slice(0,4),")")),l.a.createElement("h4",null),l.a.createElement("h6",{style:{width:"250px"}},"Released: ",e.release_date),l.a.createElement("hr",{className:"half-rule"}),l.a.createElement("p",{style:{width:"250px",fontWeight:"lighter",fontSize:"15px",fontFamily:"system-ui",textAlign:"left",lineHeight:"1.5"}},l.a.createElement("strong",{style:{color:"black",border:"solid black 1px",padding:"3px",marginRight:"5px"}},"Overview"),p(e.overview)," ",l.a.createElement(m.a,{to:"/movies/"+e.id+"/overview"},"More.."))))})))),l.a.createElement(re,{open:u,setOpen:d})))},se=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)([]),i=Object(o.a)(r,2),m=i[0],u=i[1],d=Object(n.useState)([]),p=Object(o.a)(d,2),g=p[0],h=p[1];return Object(n.useEffect)((function(){s.a.get("https://api.themoviedb.org/3/movie/popular?api_key=".concat("fe849d6987c0000e3dc1352ccf5118fd","&language=en-US&page=1&include_adult=false")).then((function(e){c(e.data.results)})).catch((function(e){return console.log(e)})),s.a.get("https://api.themoviedb.org/3/movie/upcoming?api_key=".concat("fe849d6987c0000e3dc1352ccf5118fd","&language=en-US&page=1&include_adult=false")).then((function(e){u(e.data.results)})).catch((function(e){return console.log(e)})),s.a.get("https://api.themoviedb.org/3/movie/top_rated?api_key=".concat("fe849d6987c0000e3dc1352ccf5118fd","&language=en-US&page=1&include_adult=false")).then((function(e){h(e.data.results)})).catch((function(e){return console.log(e)}))}),[]),l.a.createElement("div",null,l.a.createElement(ie,{category:a,type:"Popular Movie",num:2,id:"popular"}),l.a.createElement("hr",{className:"half-rule"}),l.a.createElement(ie,{category:m,type:"Upcoming Movie",num:2,id:"upcoming"}),l.a.createElement("hr",{className:"half-rule",style:{height:"10px"}}),l.a.createElement(ie,{category:g,type:"Top Rated Movie",num:2,id:"top_rated"}))},me=a(598),ue=a(283),de=a(606),pe=function(e){var t=Object(n.useState)(""),a=Object(o.a)(t,2),c=a[0],r=a[1];return l.a.createElement(me.a,{onKeyPress:function(e){13===e.charCode&&(Object(m.c)("/searchmovies/".concat(c)),r(""))}},l.a.createElement(ue.a,null,l.a.createElement(de.a.Control,{type:"text",onChange:function(e){r(e.target.value)},value:c,placeholder:"Search movies.."})))},ge=function(e){var t=e.type,a=e.category;return l.a.createElement("section",{className:"my-5"},l.a.createElement("div",{style:{margin:"0 auto",textAlign:"center",fontFamily:"Impact, Charcoal, sans-serif"}},l.a.createElement("h1",null,t),l.a.createElement("div",null,a.map((function(e,t){return null!=e.poster_path&&l.a.createElement("div",{key:t,style:{display:"inline-block"}},l.a.createElement("div",{style:{width:"300px",margin:"10px",display:"inline-block"}},l.a.createElement(m.a,{to:"/movies/"+e.id+"/overview"},l.a.createElement("img",{className:"d-block w-100",src:"http://image.tmdb.org/t/p/w780"+e.poster_path,alt:""}))),l.a.createElement("div",{style:{width:"250px",margin:"10px",display:"inline-block",verticalAlign:"top"}},l.a.createElement("h1",{className:"pt-3"},l.a.createElement("svg",{className:"bi bi-star-fill",width:"1em",height:"0.9em",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{d:"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.283.95l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"})),l.a.createElement("span",{className:"pl-2 h3"},e.vote_average)),l.a.createElement("h4",{style:{width:"250px",color:"rgba(0, 0, 0, 0.6)"}},l.a.createElement(m.a,{to:"/movies/"+e.id+"/overview",style:{color:"#000"}},e.title),l.a.createElement("span",{style:{fontSize:"1rem"}},"(",e.release_date.slice(0,4),")")),l.a.createElement("h4",null),l.a.createElement("h6",{style:{width:"250px"}},"Released: ",e.release_date),l.a.createElement("hr",{className:"half-rule"}),l.a.createElement("p",{style:{width:"250px",fontWeight:"lighter",fontSize:"15px",fontFamily:"system-ui",textAlign:"left",lineHeight:"1.5"}},l.a.createElement("strong",{style:{color:"black",border:"solid black 1px",padding:"3px",marginRight:"5px"}},"Overview"),function(e){if(e.length<=350)return e;var t=e.substring(0,350).lastIndexOf(" ");return e.slice(0,t)}(e.overview)," ",l.a.createElement(m.a,{to:"/movies/"+e.id+"/overview"},"More.."))))})))))},he=function(e){var t=e.query,a=Object(n.useState)([]),c=Object(o.a)(a,2),r=c[0],i=c[1],m=Object(n.useState)(0),u=Object(o.a)(m,2),d=u[0],p=u[1],g=Object(n.useState)(1),h=Object(o.a)(g,2),f=h[0],E=h[1];return Object(n.useEffect)((function(){s.a.get("https://api.themoviedb.org/3/search/movie?api_key=".concat("fe849d6987c0000e3dc1352ccf5118fd","&language=en-US&query=").concat(t,"&page=").concat(f,"&include_adult=false")).then((function(e){i(e.data.results),p(e.data.total_pages)})).catch((function(e){return console.log(e)}))}),[t,f]),l.a.createElement("div",null,l.a.createElement(ge,{category:r,type:"Search result: "+t}),d>1?l.a.createElement(Z,{pages:d,goToPage:f,setGoToPage:E}):null)},fe=function(e){var t=e.keyword,a=Object(n.useState)([]),c=Object(o.a)(a,2),r=c[0],i=c[1],m=Object(n.useState)(""),u=Object(o.a)(m,2),d=u[0],p=u[1];return Object(n.useEffect)((function(){s.a.get("https://api.themoviedb.org/3/keyword/".concat(t,"/movies?api_key=").concat("fe849d6987c0000e3dc1352ccf5118fd","&language=en-US&include_adult=false")).then((function(e){i(e.data.results)})).catch((function(e){return console.log(e)})),s.a.get("https://api.themoviedb.org/3/keyword/".concat(t,"?api_key=").concat("fe849d6987c0000e3dc1352ccf5118fd")).then((function(e){p(e.name)})).catch((function(e){return console.log(e)}))}),[t]),l.a.createElement(ge,{category:r,type:"Search result: "+d})},Ee=function(e){var t=e.type,a=Object(n.useState)([]),c=Object(o.a)(a,2),r=c[0],i=c[1],m=Object(n.useState)(0),u=Object(o.a)(m,2),d=u[0],p=u[1],g=Object(n.useState)(1),h=Object(o.a)(g,2),f=h[0],E=h[1],v=t.charAt(0).toUpperCase()+t.slice(1);return Object(n.useEffect)((function(){s.a.get("https://api.themoviedb.org/3/movie/".concat(t,"?api_key=").concat("fe849d6987c0000e3dc1352ccf5118fd","&language=en-US&page=").concat(f,"&include_adult=false")).then((function(e){i(e.data.results),p(e.data.total_pages)})).catch((function(e){return console.log(e)}))}),[t,f]),l.a.createElement("div",null,l.a.createElement(ge,{category:r,type:v+" Movies"}),d>1?l.a.createElement(Z,{pages:d,goToPage:f,setGoToPage:E}):null)},ve=function(e){var t=e.id,a=e.type,c=Object(n.useState)([]),r=Object(o.a)(c,2),i=r[0],m=r[1],u=Object(n.useState)(0),d=Object(o.a)(u,2),p=d[0],g=d[1],h=Object(n.useState)(1),f=Object(o.a)(h,2),E=f[0],v=f[1],b=a.charAt(0).toUpperCase()+a.slice(1);return Object(n.useEffect)((function(){s.a.get("https://api.themoviedb.org/3/discover/movie?api_key=".concat("fe849d6987c0000e3dc1352ccf5118fd","&with_genres=").concat(t,"&page=").concat(E)).then((function(e){m(e.data.results),g(e.data.total_pages)})).catch((function(e){return console.log(e)}))}),[t,E]),l.a.createElement("div",null,l.a.createElement(ge,{category:i,type:b+" Movies"}),p>1?l.a.createElement(Z,{pages:p,goToPage:E,setGoToPage:v}):null)},be=a(284),ye=a.n(be),we=function(e){var t=e.listState,a=e.setListState,n=e.currentUser,c=e.type;return l.a.createElement("div",{className:"mb-3"},t.length<=0&&l.a.createElement("p",null,"You haven't added any movies in your ",c,"."),t.length>0&&t.map((function(e,r){return r<=12&&l.a.createElement("div",{style:{position:"relative",display:"inline-block"},key:r},l.a.createElement("img",{key:r,src:"http://image.tmdb.org/t/p/w92/"+e.url,onClick:function(t){return Object(m.c)("/movies/".concat(e.movieid,"/overview"))},id:e.movieid,className:"mr-3 mb-3",alt:e.title}),l.a.createElement("i",{className:"fas fa-times",onClick:function(l){return function(e,l){var r=t.filter((function(e){return e.movieid!=l}));a(r),"favorites"===c?s.a.put("http://localhost:8000/users/"+n._id,Object(j.a)({},n,{favorites:r})).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)})):s.a.put("http://localhost:8000/users/"+n._id,Object(j.a)({},n,{watchlist:r})).then((function(e){return console.log(e.data)})).catch((function(e){return console.log(e)}))}(0,e.movieid)},id:ye.a.closeIcon}))})))},Ne=a(599),je=function(e){var t=e.currentUser,a=e.setCurrentUser,c=e.setCurrentUserId,r=e.recentlyViewed,i=Object(n.useState)([]),u=Object(o.a)(i,2),d=u[0],p=u[1],g=Object(n.useState)([]),h=Object(o.a)(g,2),f=h[0],E=h[1],v=Object(n.useState)([]),b=Object(o.a)(v,1)[0];Object(n.useEffect)((function(){null===t?(alert("Please login to access profile."),Object(m.c)("/")):(p(t.favorites),E(t.watchlist))}),[]);var y=function(e){Object(m.c)("/movies/"+e.target.id+"/overview")};return l.a.createElement(Ne.a,{className:"bg-light py-3 mt-5"},l.a.createElement(me.a,null,l.a.createElement(ue.a,null,l.a.createElement("h2",null,"Hi! ",null!=t&&t.firstName)),l.a.createElement(ue.a,null,l.a.createElement(m.a,{to:"/",className:"float-right"},"Edit your account info"))),l.a.createElement(me.a,{className:"mb-5 mt-3"},l.a.createElement(ue.a,null,l.a.createElement("h3",null,"Recently Viewed"),l.a.createElement("div",{className:"mb-3"},0===r.length&&l.a.createElement("p",null,"No recently viewed movie."),r.map((function(e,t){return t<=12&&l.a.createElement("img",{key:t,alt:e.title,onClick:y,src:"http://image.tmdb.org/t/p/w92/"+e.poster_path,id:e.id,className:"mr-3 mb-3"})}))),l.a.createElement("h3",null,"My Favorites"),l.a.createElement(we,{listState:d,setListState:p,currentUser:t,type:"favorites"}),l.a.createElement("h3",null,"My Watchlist"),l.a.createElement(we,{listState:f,setListState:E,currentUser:t,type:"watch list"}),l.a.createElement("h3",null,"My Reviews"),l.a.createElement("div",{className:"mb-5"},0===b.length&&l.a.createElement(m.a,{to:"/searchmovies"},"Write a reivew."))),l.a.createElement(ue.a,{sm:4},l.a.createElement("h4",null,"My Friend List"),l.a.createElement("div",null,"coming soon.."))),l.a.createElement("input",{type:"button",onClick:function(e){window.confirm("Do you want to delete your account?")&&s.a.delete("http://localhost:8000/users/"+t._id).then((function(e){Object(m.c)("/"),a(null),c("")})).catch((function(e){return console.log(e)}))},value:"Delete My Account",className:"btn btn-danger mb-5"}))},xe=a(85),Oe=a(600),ke=a(601),_e=a(602),Se=a(614),Ce=a(603),Me=a(604),Ue=a(605);function Ie(){return l.a.createElement(Oe.a,{color:"textSecondary",align:"center"},"Copyright \xa9 Movie Talk 2020")}var Pe=Object(k.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));function Te(){var e=Pe(),t=Object(n.useState)({firstName:"",LastName:"",email:"",password:"",confirmPassword:""}),a=Object(o.a)(t,2),c=a[0],r=a[1],i=Object(n.useState)({}),u=Object(o.a)(i,2),d=u[0],p=u[1],g=function(e){r(Object(j.a)({},c,Object(xe.a)({},e.target.name,e.target.value)))};return l.a.createElement(ke.a,{component:"main",maxWidth:"xs",style:{background:"white"}},l.a.createElement(_e.a,null),l.a.createElement("div",{className:e.paper},l.a.createElement(Se.a,{className:e.avatar}),l.a.createElement(Oe.a,{component:"h1",variant:"h5"},"Sign up"),l.a.createElement("form",{className:e.form,noValidate:!0,onSubmit:function(e){e.preventDefault(),s.a.post("http://localhost:8000/users",c,{withCredentials:!0}).then((function(e){alert("Register successfully!"),Object(m.c)("/sign_in")})).catch((function(e){for(var t=e.response.data.errors,a={},n=0,l=Object.keys(t);n<l.length;n++){var c=l[n];a[c]=t[c]}p(a)}))}},l.a.createElement(Ce.a,{container:!0,spacing:2},l.a.createElement(Ce.a,{item:!0,xs:12,sm:6},d.firstName?l.a.createElement(Me.a,{autoComplete:"fname",name:"firstName",variant:"outlined",required:!0,fullWidth:!0,label:"First Name",autoFocus:!0,error:!0,id:"outlined-error-helper-text",helperText:d.firstName.message,onChange:g}):l.a.createElement(Me.a,{autoComplete:"fname",name:"firstName",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0,onChange:g})),l.a.createElement(Ce.a,{item:!0,xs:12,sm:6},d.lastName?l.a.createElement(Me.a,{autoComplete:"lname",name:"lastName",variant:"outlined",required:!0,fullWidth:!0,autoFocus:!0,error:!0,id:"outlined-error-helper-text",label:"Last Name",helperText:d.lastName.message,onChange:g}):l.a.createElement(Me.a,{autoComplete:"lname",name:"lastName",variant:"outlined",required:!0,fullWidth:!0,id:"lastName",label:"Last Name",autoFocus:!0,onChange:g})),l.a.createElement(Ce.a,{item:!0,xs:12},d.email?l.a.createElement(Me.a,{autoComplete:"email",name:"email",variant:"outlined",required:!0,fullWidth:!0,label:"Email Address",autoFocus:!0,error:!0,id:"outlined-error-helper-text",helperText:d.email.message,onChange:g}):l.a.createElement(Me.a,{autoComplete:"email",name:"email",variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",autoFocus:!0,onChange:g})),l.a.createElement(Ce.a,{item:!0,xs:12},d.password?l.a.createElement(Me.a,{autoComplete:"password",name:"password",variant:"outlined",required:!0,fullWidth:!0,label:"Password",type:"password",autoFocus:!0,error:!0,id:"outlined-error-helper-text",helperText:d.password.message,onChange:g}):l.a.createElement(Me.a,{autoComplete:"password",name:"password",variant:"outlined",required:!0,fullWidth:!0,id:"password",type:"password",label:"Password",autoFocus:!0,onChange:g})),l.a.createElement(Ce.a,{item:!0,xs:12},d.confirmPassword?l.a.createElement(Me.a,{autoComplete:"confirmPassword",name:"confirmPassword",variant:"outlined",required:!0,fullWidth:!0,label:"Confirm Password",autoFocus:!0,type:"password",error:!0,id:"outlined-error-helper-text",helperText:d.confirmPassword.message,onChange:g}):l.a.createElement(Me.a,{autoComplete:"confirmPassword",name:"confirmPassword",variant:"outlined",required:!0,type:"password",fullWidth:!0,id:"confirmPassword",label:"Confirm Password",autoFocus:!0,onChange:g}))),l.a.createElement(T.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit},"Sign Up"),l.a.createElement(m.a,{to:"/sign_in",variant:"body2"},"Already have an account? Sign in"))),l.a.createElement(Ue.a,{mt:5},l.a.createElement(Ie,null)))}function Fe(){return l.a.createElement(Oe.a,{color:"textSecondary",align:"center"},"Copyright \xa9 Movie Talk 2020")}var Re=Object(k.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function Le(e){var t=Re(),a=e.setCurrentUserId,c=Object(n.useState)({email:"",password:""}),r=Object(o.a)(c,2),i=r[0],u=r[1],d=Object(n.useState)(""),p=Object(o.a)(d,2),g=p[0],h=p[1],f=function(e){u(Object(j.a)({},i,Object(xe.a)({},e.target.name,e.target.value)))};return l.a.createElement(ke.a,{component:"main",maxWidth:"xs",style:{background:"white"}},l.a.createElement(_e.a,null),l.a.createElement("div",{className:t.paper},l.a.createElement(Se.a,{className:t.avatar}),l.a.createElement(Oe.a,{component:"h1",variant:"h5"},"Sign in"),l.a.createElement("form",{className:t.form,noValidate:!0,onSubmit:function(e){e.preventDefault(),s.a.post("http://localhost:8000/login",i,{withCredentials:!0}).then((function(e){"success!"===e.data.msg?(a(e.data.id),Object(m.c)("/")):h(e.data.msg)})).catch((function(e){return console.log(e)}))}},g?l.a.createElement("div",null,l.a.createElement(Me.a,{autoComplete:"email",name:"email",variant:"outlined",required:!0,fullWidth:!0,error:!0,id:"email",label:"Email",autoFocus:!0,onChange:f}),l.a.createElement(Me.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,error:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",helperText:g,onChange:f})):l.a.createElement("div",null,l.a.createElement(Me.a,{autoComplete:"email",name:"email",variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email",autoFocus:!0,onChange:f}),l.a.createElement(Me.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:f})),l.a.createElement(T.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit},"Sign In"),l.a.createElement(m.a,{to:"/sign_up",variant:"body2"},"Don't have an account? Sign Up"))),l.a.createElement(Ue.a,{mt:8},l.a.createElement(Fe,null)))}var De=function(){var e=Object(n.useState)(null),t=Object(o.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(""),i=Object(o.a)(r,2),g=i[0],h=i[1],f=Object(n.useState)([]),E=Object(o.a)(f,2),v=E[0],b=E[1],y=Object(n.useState)([]),w=Object(o.a)(y,2),j=w[0],x=w[1],O=Object(n.useState)([]),k=Object(o.a)(O,2),_=k[0],S=k[1],C=Object(n.useState)([]),M=Object(o.a)(C,2),U=M[0],I=M[1];return Object(n.useEffect)((function(){""!==g&&s.a.get("http://localhost:8000/users/".concat(g),{withCredentials:!0}).then((function(e){c(e.data)})).catch((function(e){return console.log(e)}))}),[g]),Object(n.useEffect)((function(){s.a.get("https://api.themoviedb.org/3/movie/upcoming?api_key=".concat("fe849d6987c0000e3dc1352ccf5118fd","&language=en-US&page=1&include_adult=false")).then((function(e){x(e.data.results)})).catch((function(e){return console.log(e)})),s.a.get("https://api.themoviedb.org/3/movie/now_playing?api_key=".concat("fe849d6987c0000e3dc1352ccf5118fd","&language=en-US&page=1&include_adult=false")).then((function(e){S(e.data.results)})).catch((function(e){return console.log(e)})),s.a.get("https://api.themoviedb.org/3/movie/popular?api_key=".concat("fe849d6987c0000e3dc1352ccf5118fd","&language=en-US&page=1&include_adult=false")).then((function(e){I(e.data.results)})).catch((function(e){return console.log(e)}))}),[]),l.a.createElement("div",{style:{background:"#ffc107",height:"100vh",overflow:"auto",mb:"0"}},l.a.createElement(u.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark",className:"sticky-top"},l.a.createElement(u.a.Brand,null,l.a.createElement(m.a,{to:"/"},l.a.createElement("span",{className:"text-light h4"},l.a.createElement("i",{className:"fas fa-film"}),l.a.createElement("strong",null," MOVIE TALK!")))),l.a.createElement(u.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),l.a.createElement(u.a.Collapse,{id:"responsive-navbar-nav"},l.a.createElement(d.a,{className:"mr-auto"},l.a.createElement(p.a,{title:"Movies",id:"collasible-nav-dropdown",className:"pt-1 mx-2 h6"},l.a.createElement("div",{className:"text-center pt-2"},l.a.createElement(m.a,{to:"/searchmovies#popular",className:"text-dark"},"Popular"),l.a.createElement("hr",null)),l.a.createElement("div",{className:"text-center"},l.a.createElement(m.a,{to:"/movies/upcoming",className:"text-dark"},"Upcoming"),l.a.createElement("hr",null)),l.a.createElement("div",{className:"text-center pb-2"},l.a.createElement(m.a,{to:"/movies/top_rated",className:"text-dark"},"Top Rated")))),l.a.createElement(d.a,null,""!==g?l.a.createElement(l.a.Fragment,null,l.a.createElement(m.a,{to:"/profile",className:"mx-2 mt-2 text-white"},l.a.createElement("i",{className:"far fa-user-circle h4"})),l.a.createElement(d.a.Link,{onClick:function(e){e.preventDefault(),c(null),h(""),Object(m.c)("/"),s.a.get("http://localhost:8000/logout").then((function(e){b([])})).catch((function(e){return console.log(e)}))},className:"mx-2"},"Logout")):l.a.createElement(l.a.Fragment,null,l.a.createElement(m.a,{to:"/sign_up",className:"mx-2 mt-2 text-light h6"},l.a.createElement("span",{className:"text-light"},"Sign Up")),l.a.createElement(m.a,{to:"/sign_in",className:"mx-2 mt-2 text-light h6"},l.a.createElement("span",{className:"text-light"},"Sign In")))))),l.a.createElement(pe,null),l.a.createElement(m.b,null,l.a.createElement(N,{path:"/",upcoming:j,nowPlaying:_,popular:U}),l.a.createElement(se,{path:"/searchmovies"}),l.a.createElement(he,{path:"/searchmovies/:query"}),l.a.createElement(fe,{path:"/searchKeyword/:keyword"}),l.a.createElement(Ee,{path:"/movies/:type"}),l.a.createElement(ve,{path:"/movies/genre/:type/:id"}),l.a.createElement(L,{path:"/movies/:id/",currentUser:a,setCurrentUser:c,recentlyViewed:v,setRecentlyViewed:b},l.a.createElement(J,{path:"overview"}),l.a.createElement(Y,{path:"videos"}),l.a.createElement($,{path:"info"}),l.a.createElement(ee,{path:"reviews",currentUser:a}),l.a.createElement(Q,{path:"theaters"})),l.a.createElement(Q,{path:"/theaters"}),l.a.createElement(je,{path:"/profile",currentUser:a,setCurrentUser:c,setCurrentUserId:h,recentlyViewed:v}),l.a.createElement(Te,{path:"/sign_up"}),l.a.createElement(Le,{path:"/sign_in",setCurrentUserId:h})),l.a.createElement(le,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(De,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[295,1,2]]]);
//# sourceMappingURL=main.73d5df04.chunk.js.map